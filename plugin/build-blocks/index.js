(window.SHOWPASS_BLOCK_BUILD=window.SHOWPASS_BLOCK_BUILD||[]).push([[1],{15:function(t,e,r){}}]),function(t){function e(e){for(var o,u,i=e[0],a=e[1],c=e[2],p=0,f=[];p<i.length;p++)u=i[p],Object.prototype.hasOwnProperty.call(n,u)&&n[u]&&f.push(n[u][0]),n[u]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o]);for(l&&l(e);f.length;)f.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],o=!0,i=1;i<r.length;i++){var a=r[i];0!==n[a]&&(o=!1)}o&&(s.splice(e--,1),t=u(u.s=r[0]))}return t}var o={},n={0:0},s=[];function u(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.m=t,u.c=o,u.d=function(t,e,r){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},u.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)u.d(r,o,function(e){return t[e]}.bind(null,o));return r},u.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="";var i=window.SHOWPASS_BLOCK_BUILD=window.SHOWPASS_BLOCK_BUILD||[],a=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=a;s.push([10,1]),r()}([function(t,e){t.exports=window.wp.element},function(t,e){t.exports=window.wp.components},function(t,e){function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var o=r(11);function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var o=r(13);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var o=r(2).default,n=r(14);t.exports=function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return n(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=window.wp.apiFetch},function(t,e){t.exports=window.wp.blocks},function(t,e,r){"use strict";r.r(e);var o=r(4),n=r.n(o),s=r(5),u=r.n(s),i=r(6),a=r.n(i),c=r(7),l=r.n(c),p=r(3),f=r.n(p),d=r(0),b=r(8),y=r.n(b),x=r(9),h=r(1);r(15),r(16);var v=function(t){a()(s,t);var e,r,o=(e=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=f()(e);if(r){var n=f()(this).constructor;t=Reflect.construct(o,arguments,n)}else t=o.apply(this,arguments);return l()(this,t)});function s(t){var e;return n()(this,s),(e=o.call(this,t)).state={loading:!1,errorMessage:""},e}return u()(s,[{key:"render",value:function(){var t=this,e=this.props,r=e.attributes,o=r.ticketLink,n=r.buttonLabel,s=r.dataError,u=e.setAttributes;return Object(d.createElement)("div",{class:"wp-showpass-block-container"},Object(d.createElement)("span",{class:"dashicons dashicons-tickets-alt"}),Object(d.createElement)("h4",null,"Buy Now Button"),Object(d.createElement)(h.TextControl,{label:"Button Label",value:n,onChange:function(t){u({buttonLabel:t})},key:"ticketLink",default:"Get Tickets"}),Object(d.createElement)(h.TextControl,{label:"Enter in the full URL",value:o,onChange:function(t){u({ticketLink:t})},key:"ticketLink",help:"Example: https://showpass.com/event-slug/"}),Object(d.createElement)("div",{class:"control-container"},Object(d.createElement)(h.Button,{isSecondary:!0,isBusy:this.state.loading,disabled:this.state.loading,onClick:function(){u({dataError:null}),t.setState({loading:!0,errorMessage:""}),function(t){if(t)return y()({path:"showpass/v1/process-url/?url="+encodeURI(t),method:"GET"})}(o).then((function(e){t.setState({loading:!1}),e&&(u({shortcode:e.data.shortcode}),u({dataError:!1}))})).catch((function(e){t.setState({loading:!1,errorMessage:e.data}),console.log(e),u({dataError:!0})}))}},"Add Button!"),this.state.loading&&Object(d.createElement)(h.Spinner,null),null!==s&&Object(d.createElement)(h.Dashicon,{className:"validate",icon:s?"no":"yes"}),this.state.errorMessage&&Object(d.createElement)("p",{class:"error-message"},this.state.errorMessage)))}}]),s}(d.Component);Object(x.registerBlockType)("create-block/showpass-button-block",{title:"Buy Now Button",category:"showpass-blocks",icon:"tickets-alt",supports:{},attributes:{ticketLink:{type:"string"},buttonLabel:{type:"string",default:"Get Tickets"},slug:{type:"string"},dataError:{type:"boolean",default:null}},edit:v,save:function(t){var e=t.attributes;return!e.dataError&&e.shortcode}})},function(t,e,r){var o=r(2).default,n=r(12);t.exports=function(t){var e=n(t,"string");return"symbol"===o(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){var o=r(2).default;t.exports=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function r(e,o){return t.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,r(e,o)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},,function(t,e,r){}]);